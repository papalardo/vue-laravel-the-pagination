var ThePaginatable=function(t){"use strict";function e(t,e,n,a,i,o,r,s,u,c){"boolean"!=typeof r&&(u=s,s=r,r=!1);var d="function"==typeof n?n.options:n;t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),a&&(d._scopeId=a);var l;if(o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=l):e&&(l=r?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),l)if(d.functional){var p=d.render;d.render=function(t,e){return l.call(e),p(t,e)}}else{var g=d.beforeCreate;d.beforeCreate=g?[].concat(g,l):[l]}return n}function n(t){return function(t,e){return a(t,e)}}function a(t,e){var n=u?e.media||"default":t,a=d[n]||(d[n]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);var i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),c.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(i),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var o=a.ids.size-1,r=document.createTextNode(i),s=a.element.childNodes;s[o]&&a.element.removeChild(s[o]),s.length?a.element.insertBefore(r,s[o]):a.element.appendChild(r)}}}function i(t,e){i.installed||(i.installed=!0,Object.keys(p).forEach(function(n){t.component(n,t.extend(p[n]).extend({data:function(){return{baseURL:e.baseURL}}}))}))}var o=function(t){return Object.entries(t).map(function(t){return t.map(encodeURIComponent).join("=")}).join("&")},r={data:function(){return{paginate:{data:[],current_page:0,last_page:0,per_page:0,total:0},interval:[1],buzy:!1,request:null}},props:{limits:{type:Array,default:function(){return[10,25,50,100]}},query:{type:Object},url:{type:String,required:!0},intervalMaxNumbers:{type:Number,default:function(){return 5}},config:{type:Object}},computed:{_query:function(){return Object.assign({per_page:this.limits[0]},this.query)}},watch:{_query:function(){this.get(1,!0)}},created:function(){this.get()},methods:{getInterval:function(){var t=this.paginate.total,e=this.paginate.per_page,n=this.paginate.current_page,a=this.intervalMaxNumbers,i=Math.ceil(t/e);if(t<0)return void console.error("Total of itens cant be less or equal than 0");if(i>0&&n>i)return void console.error("Current page ["+n+"] cant be bigger than last page ["+i+"]");var o=i>0?function(t,e,n){void 0===n&&(n=1);var a=Math.floor((e-t)/n)+1;return Array(a).fill().map(function(e,a){return t+a*n})}(Math.max(1,Math.min(i-a+1,n-Math.floor(a/2))),Math.min(i,Math.max(a,Math.min(i,n+Math.floor(a/2))))):[1];this.interval=o},get:function(t,e){var n=this;if(void 0===t&&(t=1),t!==this.paginate.current_page||e){this.paginate.current_page=t,this.getInterval();var a=o(Object.assign({page:t},this._query)),i=this.baseURL?this.baseURL+"/"+this.url+"?"+a:this.url+"?"+a;this.makeRequest(i).then(function(t){n.$emit(self.config&&self.config.customEventName.getData||"getData",t.data),n.paginate=Object.assign(n.paginate,t),n.getInterval()})}},makeRequest:function(t){var e=this;return new Promise(function(n,a){var i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("get",t,!0),i.setRequestHeader("Authorization","test"),i.onreadystatechange=function(){var t,o;4==i.readyState&&(200==(t=i.status)?(o=JSON.parse(i.responseText),n(o)):a(t),e.request=null,e.$emit(e.config&&e.config.customEventName.loading||"loading",!1))},e.request&&e.request.abort(),e.request=i,i.send(),e.$emit(e.config&&e.config.customEventName.loading||"loading",!0)})}}},s=e,u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),c=document.head||document.getElementsByTagName("head")[0],d={},l=s({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("button",{staticClass:"pagination__button pagination__button--first-page",attrs:{disabled:t.paginate.current_page<=1},on:{click:function(e){return t.get()}}}),t._v(" "),n("button",{staticClass:"pagination__button pagination__button--prev-page",attrs:{disabled:t.paginate.current_page<=1},on:{click:function(e){return t.get(t.paginate.current_page-1)}}}),t._v(" "),t._l(t.interval,function(e,a){return n("button",{key:a,staticClass:"pagination__button",class:[{active:t.paginate.current_page==e}],on:{click:function(n){return t.get(e)}}},[t._v(t._s(e))])}),t._v(" "),n("button",{staticClass:"pagination__button pagination__button--next-page",attrs:{disabled:t.paginate.current_page>=t.paginate.last_page},on:{click:function(e){return t.get(t.paginate.current_page+1)}}}),t._v(" "),n("button",{staticClass:"pagination__button pagination__button--last-page",attrs:{disabled:t.paginate.current_page>=t.paginate.last_page},on:{click:function(e){return t.get(t.paginate.last_page)}}})],2)},staticRenderFns:[]},function(t){t&&t("data-v-499fb406_0",{source:".pagination[data-v-499fb406]{display:inline-block}.pagination__button[data-v-499fb406]{cursor:pointer;color:#000;float:left;padding:8px 16px;text-decoration:none;border:1px solid #ddd;outline:0}.pagination__button[data-v-499fb406]:disabled,.pagination__button[disabled][data-v-499fb406]{background-color:#ccc;border:1px solid #ccc;color:#666;cursor:not-allowed}.pagination__button.active[data-v-499fb406]{background-color:#4caf50;color:#fff;border:1px solid #4caf50}.pagination__button[data-v-499fb406]:hover:not(.active):not(:disabled){background-color:#ddd}.pagination__button[data-v-499fb406]:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px}.pagination__button--first-page[data-v-499fb406]::before{content:'\\00AB'}.pagination__button--next-page[data-v-499fb406]::before{content:'\\203A'}.pagination__button--prev-page[data-v-499fb406]::before{content:'\\2039'}.pagination__button--last-page[data-v-499fb406]::before{content:'\\00BB'}.pagination .pagination__button[data-v-499fb406]:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px}",map:void 0,media:void 0})},r,"data-v-499fb406",!1,void 0,n,void 0),p=Object.freeze({ThePaginatable:l}),g={install:i},f=null;return"undefined"!=typeof window?f=window.Vue:"undefined"!=typeof global&&(f=global.Vue),f&&f.use(g),t.default=g,t.ThePaginatable=l,t}({});
